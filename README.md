# 台語單字例句收集器

一個專為台語學習者設計的智能例句收集工具，能夠從教育部台語辭典自動擷取台語單字的例句、台羅拼音和中文翻譯。

## 🌟 特色功能

- 🎯 **手動操作風格**：完全模擬人工查詢流程
- 📚 **批次處理**：支援從Excel工作表批次處理多個單字
- 🔍 **智能選擇**：自動選擇最佳品質的例句
- 📊 **缺失追蹤**：清楚顯示哪些單字沒有找到例句
- 💾 **多格式輸出**：JSON、CSV、TXT三種格式
- 🏛️ **權威來源**：使用教育部台語辭典作為資料來源

## 📋 系統需求

- Python 3.7+
- Windows / macOS / Linux
- 網路連線

## 🚀 快速開始

### 1. 安裝依賴

```bash
pip install -r requirements.txt
```

### 2. 準備您的單字列表

將您的台語單字整理到Excel檔案中（如 `臺語詞彙0720.xlsx`），每個工作表代表一個分類。

### 3. 運行爬蟲

```bash
python sutian_final_scraper.py
```

### 4. 選擇操作模式

程式會提供三種操作模式：

1. **單字測試**：手動輸入單字進行測試
2. **工作表批次處理**：選擇Excel中的工作表進行批次處理
3. **自定義單字列表**：手動輸入多個單字

## 📖 使用範例

### 單字測試模式

```
請輸入要測試的台語單字：捷運

🎯 手動操作流程：捷運
🔍 輸入單字：捷運
📋 網頁顯示 5 個用例選項
📌 選擇最佳用例：你按呢食甲肥朒朒，身軀圓輾輾，愛較捷運動咧喔！
📝 擷取結果：
   台語：你按呢食甲肥朒朒，身軀圓輾輾，愛較捷運動咧喔！
   台羅：Lí án-ne tsia̍h kah puî-tsut-tsut, sin-khu înn-liàn-liàn, ài khah tsia̍p ūn-tōng--leh--ooh
   中文：你這樣子吃得肥滋滋的，身材圓滾滾，要勤於運動喔！
💾 資料品質：完整
```

### 批次處理模式

程式會自動從您的Excel檔案中提取單字，並為每個單字：

1. 查詢所有可用的例句
2. 智能選擇最佳例句
3. 擷取台語例句、台羅拼音、中文翻譯
4. 評估資料品質
5. 生成詳細報告

## 📊 輸出格式

### 成功例句格式

每個成功擷取的例句包含：

- **單字**：原始查詢單字
- **台語例句**：完整的台語例句
- **台羅拼音**：完整的台羅拼音標註
- **中文翻譯**：對應的中文翻譯
- **來源詞目**：例句的來源詞目
- **資料品質**：完整/良好/基本/不完整
- **擷取時間**：資料擷取的時間戳記

### 輸出檔案

程式會產生以下檔案：

```
final_{工作表名稱}/
├── {工作表名稱}_final_{時間戳記}.json          # 完整JSON資料
├── {工作表名稱}_successful_{時間戳記}.csv       # 成功擷取的CSV
├── {工作表名稱}_missing_words_{時間戳記}.csv    # 缺失單字清單
└── {工作表名稱}_complete_report_{時間戳記}.txt  # 完整可讀報告
```

## 📈 範例輸出

### 成功擷取統計
- 總計單字：23 個
- 成功擷取：17 個
- 缺失單字：6 個
- 成功率：73.9%

### 缺失單字報告
程式會清楚列出哪些單字沒有找到例句，例如：
- 消防車
- 直升機
- 校車
- 挖土機

## 🛠️ 技術特點

### 智能品質評估

程式使用多重指標評估例句品質：

- 台羅拼音完整性
- 中文翻譯可用性
- 例句長度和完整性
- 標點符號使用

### 手動操作模擬

完全模擬人工操作流程：

1. **輸入單字** → 在辭典中搜尋
2. **瀏覽選項** → 查看所有可用例句
3. **選擇最佳** → 智能評分選擇最佳例句
4. **擷取三要素** → 取得台語、台羅、中文
5. **儲存管理** → 分類儲存並評估品質

### 錯誤處理

- 網路連線錯誤處理
- SSL憑證問題自動處理
- 解析錯誤容錯機制
- 詳細的錯誤日誌

## 📚 資料來源

本工具使用 [教育部台語辭典](https://sutian.moe.edu.tw/) 作為主要資料來源，確保：

- 🏛️ **權威性**：政府官方辭典
- 📝 **準確性**：經過專業校對
- 🔄 **即時性**：線上即時查詢
- 🌐 **完整性**：涵蓋豐富的台語詞彙

## ⚠️ 注意事項

1. **網路需求**：需要穩定的網路連線
2. **查詢頻率**：內建延遲機制，避免對伺服器造成負擔
3. **資料品質**：某些單字可能在辭典中沒有例句
4. **使用規範**：請合理使用，尊重資料來源的版權

## 🤝 使用建議

### 對於缺失的單字

如果某些單字沒有找到例句，建議：

1. **嘗試同義詞**：使用相近意義的詞彙
2. **拆分複合詞**：將複合詞拆分成基本詞彙
3. **查詢相關詞**：使用相關的詞彙代替
4. **手動補充**：從其他台語資源手動收集

### 最佳實踐

1. **分批處理**：建議分批處理，避免一次處理過多單字
2. **定期備份**：定期備份擷取的資料
3. **品質檢查**：檢查"完整"品質的資料優先使用
4. **持續更新**：定期重新擷取以獲得最新資料

## 📧 技術支援

如果在使用過程中遇到問題：

1. 檢查網路連線
2. 確認Python版本和依賴包
3. 查看錯誤訊息和日誌
4. 參考輸出的詳細報告

## 📄 授權說明

本工具為學習和研究目的開發，請遵守相關的使用條款和版權規定。資料來源為教育部台語辭典，請尊重原始資料的版權。

---

**開發理念**：讓台語學習更簡單，讓文化傳承更有效率。

🎯 **目標**：為台語學習者提供優質、完整、易用的例句收集工具。